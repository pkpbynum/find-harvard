HMeet Design

I started by using some base code from "Finance" to create the app, including the basic
application.py structure, with login/logout functions and helper functions. The file structure
is also similar to "Finance", using static and templates folders. I also used SASS, so I had
another folder for those files. Using a watch command I compiled those files into the base.css
file found in the static folder. The sass files include a reset.scss to remove some of the
default css styling, which I just used out of preference.

My database includes two tables: one for users and the other for events. The users tables
includes: #id, first name, last name, email, password hash, and a boolean for whether their
account has been confirmed. The events table includes: event #id, the #id of the author,
title, timing, description, address location, and geographic location in latitude/longitude.
This last item is stored as a JSON object and is used to position the event marker on the map.

I used Flask-Mail and itsdangerous for the email confirmation. After a user clicks "Register"
when creating an account, a token is generated by itsdangerous and sent in an email (using a
basic html template) to their Harvard email. Their account is added to the database, but
the "confirmed" column is set to 0 by default. When the user clicks the link sent to them in
the email, the server recieves the token, and is able to unscramble it to find the user's
email. It then sets "confirmed" to 1, and the user can log in as normal.

With more time, I think the basic layout of the application could be consolidated onto a single
page. It would be more elegant, but it would also require a lot more work to make it mobile-
friendly. To simplify things I created two different pages for the Map and the Create
Event form. The map is created by the Google Maps API. I configured it to remove the default
markers that were not necessary to this project. When a user loads the Map page, the events
data from the "events" table is passed in as a JSON object. This gets parsed by javascript,
setting up clickable markers for each event. Clicking on the map creates a new marker that moves
with subsequent clicks. When the user clicks "Create Event", the latitude and longitude of this
movable marker is passed as a URL parameter to the new page with the form.

In the Create Event form, I decided to add and field for the "descriptive" location, in addition
to the latitude/longitude, for things such as building and room number. The time fields use
a plugin called "datetimepicker". This makes it easier for the user to input a time, and it
ensures that it uses a consistent format (this allows me to use JS to parse the output into
a more readable format when displaying events on the main page). After the user hits submit,
the event gets added to the events database.